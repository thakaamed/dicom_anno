# Full Anonymization Preset
# Complete de-identification with minimal retained data
# Maximum anonymization for high-security requirements
# Removes ALL institutional, scanner, and patient identifiers

name: "Full Anonymization"
description: "Complete de-identification removing all identifying information including scanner/institutional UIDs. Maximum privacy for public dataset sharing with complete unlinkability."
version: "1.1.0"

compliance:
  - "SDAIA PDPL (Saudi Personal Data Protection Law)"
  - "DICOM PS3.15 Basic Profile"
  - "Maximum Privacy Level"

# Profile options - most restrictive, no retention
clean_pixel_data: true
clean_visual_features: true
retain_longitudinal: false
retain_patient_characteristics: false
retain_device_identity: false
retain_institution_identity: false
retain_safe_private: false

# Date handling - remove all dates
date_handling: "remove"
date_shift_base: null

# Age handling - ages >89 generalized to 90+ for privacy
age_threshold: 89

# Remove ALL private tags with no exceptions
remove_private_tags: true
safe_private_tags: []

# Tag-specific rules - remove everything identifying
tag_rules:
  # ===========================================
  # File Meta Information - Remove institutional identifiers
  # These tags leak software/institution identity
  # ===========================================
  - tag: "(0002,0012)"
    action: "X"
    description: "Implementation Class UID - identifies software/institution"

  - tag: "(0002,0013)"
    action: "X"
    description: "Implementation Version Name - identifies software version"

  - tag: "(0002,0016)"
    action: "X"
    description: "Source Application Entity Title - identifies source system"

  - tag: "(0002,0100)"
    action: "X"
    description: "Private Information Creator UID - institutional identifier"

  - tag: "(0002,0102)"
    action: "X"
    description: "Private Information - may contain institutional data"

  - tag: "(0002,0003)"
    action: "U"
    description: "Media Storage SOP Instance UID - must match SOP Instance UID"

  # ===========================================
  # Patient Module - Remove all
  # ===========================================
  - tag: "(0010,0010)"
    action: "Z"
    replacement: "ANONYMOUS"
    description: "Patient's Name"

  - tag: "(0010,0020)"
    action: "Z"
    replacement: ""
    description: "Patient ID"

  - tag: "(0010,0030)"
    action: "X"
    description: "Patient's Birth Date"

  - tag: "(0010,0032)"
    action: "X"
    description: "Patient's Birth Time"

  - tag: "(0010,0040)"
    action: "X"
    description: "Patient's Sex"

  - tag: "(0010,1000)"
    action: "X"
    description: "Other Patient IDs"

  - tag: "(0010,1001)"
    action: "X"
    description: "Other Patient Names"

  - tag: "(0010,1010)"
    action: "X"
    description: "Patient's Age"

  - tag: "(0010,1020)"
    action: "X"
    description: "Patient's Size"

  - tag: "(0010,1030)"
    action: "X"
    description: "Patient's Weight"

  - tag: "(0010,1040)"
    action: "X"
    description: "Patient's Address"

  - tag: "(0010,2154)"
    action: "X"
    description: "Patient's Telephone Numbers"

  - tag: "(0010,2160)"
    action: "X"
    description: "Ethnic Group"

  - tag: "(0010,21B0)"
    action: "X"
    description: "Additional Patient History"

  # ===========================================
  # Study/Series - Remove all temporal data
  # ===========================================
  - tag: "(0008,0020)"
    action: "X"
    description: "Study Date"

  - tag: "(0008,0021)"
    action: "X"
    description: "Series Date"

  - tag: "(0008,0022)"
    action: "X"
    description: "Acquisition Date"

  - tag: "(0008,0023)"
    action: "X"
    description: "Content Date"

  - tag: "(0008,0030)"
    action: "X"
    description: "Study Time"

  - tag: "(0008,0031)"
    action: "X"
    description: "Series Time"

  - tag: "(0008,0032)"
    action: "X"
    description: "Acquisition Time"

  - tag: "(0008,0033)"
    action: "X"
    description: "Content Time"

  - tag: "(0008,0050)"
    action: "Z"
    description: "Accession Number"

  # ===========================================
  # UIDs - Replace all with new consistent UIDs
  # ===========================================
  - tag: "(0020,000D)"
    action: "U"
    description: "Study Instance UID"

  - tag: "(0020,000E)"
    action: "U"
    description: "Series Instance UID"

  - tag: "(0008,0018)"
    action: "U"
    description: "SOP Instance UID"

  - tag: "(0008,0016)"
    action: "K"
    description: "SOP Class UID - Keep unchanged"

  - tag: "(0020,0052)"
    action: "U"
    description: "Frame of Reference UID"

  - tag: "(0018,1002)"
    action: "U"
    description: "Device UID"

  # ===========================================
  # Institution/Provider - Remove all
  # ===========================================
  - tag: "(0008,0080)"
    action: "X"
    description: "Institution Name"

  - tag: "(0008,0081)"
    action: "X"
    description: "Institution Address"

  - tag: "(0008,0082)"
    action: "X"
    description: "Institution Code Sequence"

  - tag: "(0008,0090)"
    action: "X"
    description: "Referring Physician's Name"

  - tag: "(0008,0092)"
    action: "X"
    description: "Referring Physician's Address"

  - tag: "(0008,0094)"
    action: "X"
    description: "Referring Physician's Telephone Numbers"

  - tag: "(0008,1048)"
    action: "X"
    description: "Physician(s) of Record"

  - tag: "(0008,1050)"
    action: "X"
    description: "Performing Physician's Name"

  - tag: "(0008,1070)"
    action: "X"
    description: "Operators' Name"

  # ===========================================
  # Descriptive Fields - Remove all
  # ===========================================
  - tag: "(0008,103E)"
    action: "X"
    description: "Series Description"

  - tag: "(0008,1030)"
    action: "X"
    description: "Study Description"

  - tag: "(0010,4000)"
    action: "X"
    description: "Patient Comments"

  - tag: "(0020,4000)"
    action: "X"
    description: "Image Comments"

  - tag: "(0032,4000)"
    action: "X"
    description: "Study Comments"

  # ===========================================
  # Equipment Information - Remove all
  # ===========================================
  - tag: "(0008,0070)"
    action: "X"
    description: "Manufacturer"

  - tag: "(0008,1090)"
    action: "X"
    description: "Manufacturer's Model Name"

  - tag: "(0008,1010)"
    action: "X"
    description: "Station Name"

  - tag: "(0018,1000)"
    action: "X"
    description: "Device Serial Number"

  - tag: "(0018,1020)"
    action: "X"
    description: "Software Versions"

  - tag: "(0018,700A)"
    action: "X"
    description: "Detector ID"

  # ===========================================
  # Scanner-Specific UIDs - Remove to prevent tracing
  # These UIDs contain manufacturer-specific roots (e.g., Siemens 1.3.12.2.1107)
  # ===========================================
  - tag: "(0008,3010)"
    action: "X"
    description: "Irradiation Event UID - scanner-specific identifier"

  - tag: "(0018,9185)"
    action: "X"
    description: "Respiratory Signal Source ID"

  - tag: "(0020,9161)"
    action: "U"
    description: "Concatenation UID"

  - tag: "(0020,9164)"
    action: "U"
    description: "Dimension Organization UID"

  - tag: "(0028,1214)"
    action: "X"
    description: "Large Palette Color Lookup Table UID"

  - tag: "(0040,DB0D)"
    action: "X"
    description: "Template Extension Organization UID"

  - tag: "(0040,DB0C)"
    action: "X"
    description: "Template Extension Creator UID"

  # ===========================================
  # Referenced Sequences - Remove to break linkage
  # These contain original scanner UIDs that leak identity
  # ===========================================
  - tag: "(0008,1111)"
    action: "X"
    description: "Referenced Performed Procedure Step Sequence - contains original UIDs"

  - tag: "(0008,2112)"
    action: "X"
    description: "Source Image Sequence - contains original scanner UIDs"

  - tag: "(0008,1115)"
    action: "X"
    description: "Referenced Series Sequence - may contain original UIDs"

  - tag: "(0008,1140)"
    action: "X"
    description: "Referenced Image Sequence - may contain original UIDs"

  - tag: "(0008,9092)"
    action: "X"
    description: "Referenced Image Evidence Sequence"

  - tag: "(0008,9154)"
    action: "X"
    description: "Source Image Evidence Sequence"

  - tag: "(0010,1002)"
    action: "X"
    description: "Other Patient IDs Sequence"

  - tag: "(0040,0275)"
    action: "X"
    description: "Request Attributes Sequence - contains procedure IDs"

  - tag: "(0040,A730)"
    action: "X"
    description: "Content Sequence - may contain identifying info"

  # ===========================================
  # Calibration/Protocol UIDs - Remove
  # ===========================================
  - tag: "(0018,1200)"
    action: "X"
    description: "Date of Last Calibration"

  - tag: "(0018,1201)"
    action: "X"
    description: "Time of Last Calibration"

  - tag: "(0018,9919)"
    action: "X"
    description: "Instruction Performed DateTime"

  - tag: "(0040,0244)"
    action: "X"
    description: "Performed Procedure Step Start Date"

  - tag: "(0040,0245)"
    action: "X"
    description: "Performed Procedure Step Start Time"

  - tag: "(0040,0250)"
    action: "X"
    description: "Performed Procedure Step End Date"

  - tag: "(0040,0251)"
    action: "X"
    description: "Performed Procedure Step End Time"

  - tag: "(0040,0253)"
    action: "X"
    description: "Performed Procedure Step ID"

  - tag: "(0040,0254)"
    action: "X"
    description: "Performed Procedure Step Description"

  - tag: "(0040,1001)"
    action: "X"
    description: "Requested Procedure ID"

  - tag: "(0032,1060)"
    action: "X"
    description: "Requested Procedure Description"

  - tag: "(0032,1064)"
    action: "X"
    description: "Requested Procedure Code Sequence"
